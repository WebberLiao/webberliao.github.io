<link rel="stylesheet" type="text/css" href="../../styles.css">

# ACL
Access Control Lists
Primarily used for traffic filtering based on predefined rules on network devices.
An ACL is a set of rules that determine what traffic is allowed or denied on a network device, such as a router or a switch.
ACLs can filter traffic based on various criteria, including IP addresses, protocols, and port numbers.

## Types
- Standard ACLs: These filter traffic based solely on source IP addresses.
- Extended ACLs: These provide more granular control by allowing filtering based on source and destination IP addresses, protocols (TCP, UDP, ICMP), and port numbers.


# Firewall
Provide comprehensive security by monitoring and controlling traffic, often with advanced features.
A firewall is a security device or software that monitors and controls incoming and outgoing network traffic based on predetermined security rules.
Firewalls can be hardware-based, software-based, or a combination of both.

## Stateful vs. Stateless
- Stateless Firewalls: These make decisions based on individual packets without considering the state of the connection.
- Stateful Firewalls: These track the state of active connections and make decisions based on the context of the traffic.

## Advanced Features
Many firewalls offer additional features such as intrusion detection and prevention systems (IDPS), 
virtual private network (VPN) support, and application-layer filtering.

## Commands
``` Shell
# check if ufw is installed and active
sudo ufw status

# Active the ufw
sudo ufw enable

# Inactive the ufw
sudo ufw disable

# Create a rule with opening a specific port
# E.g. ufw allow 1883
sudo ufw allow {PORT_NUMBER}

# Create a rule with opening a specific port for a specific protocol
# E.g. ufw allow 1883/tcp
sudo ufw allow {PORT_NUMBER}/{PROTOCOL}

# Remove a rule
# E.g. ufw delete allow 1883
sudo ufw delete allow {PORT_NUMBER}
```

# iptables
``` Shell
# Show the current rules to verify changes
sudo iptables -L -n -v

# Format: sudo iptables {-A/-D} {INPUT/OUTPUT/FORWARD} -p {PROTOCOL} [--dport {PORT}] [--sport {PORT}] -j {ACCEPT/DROP}
# -A add, -D Delete
# INPUT: It is used for packets that are destined for the local system.
# OUTPUT: It is used for packets that are generated by the local system and are being sent out.
# FORWARD: It is used for packets that are being routed through the local system but are not destined for it.

# Add the rule
sudo iptables -A INPUT -p tcp --dport 1883 -j ACCEPT

# Remove the rule
sudo iptables -D INPUT -p tcp --dport 1883 -j ACCEPT

# Save the changes
sudo iptables-save

```

# iPerf
## Basic
Open Source. Client Server structure. Monitor traffics. Default using port is 5201.

[**公用Server列表**](https://iperf.fr/iperf-servers.php)


## Install
``` Shell
sudo apt install iperf3

# Check version
iperf3 --version
```

## Commands
``` Shell
# Execute server mode
iperf -s

# Execute client mode
iperf -c {Server IP}


```

### Common
| option | description | Sample |
| :--- | :--- | :--- |
| -f [ k \| m \| K \| M ] | 以 Kbits, Mbits, KBytes, MBytes 為單位 ||
| -i {number} | 顯示報告的間隔時間 (以秒為單位) | -i 10 |
| -m | 顯示MTU的最大值 ||
| -o {filename} | 產出報告及錯誤訊息至特定檔案 (json格式) | -o ./test_log.txt |
| --log-file {filename} | 產出報告及錯誤訊息至特定檔案 (json格式) | --log-file ./test_log.txt |
| -u | 使用 UDP 傳輸, 可檢查出遺失的封包樹吉jitter ||
| -w {nubmer} | 指定 TCP frame 的大小, 預設是 8KB, 但 TCP 會自動調整 | -w 100M |
| -C | 相容舊版本 ||
| -M | 設定 TCP 的 MTU 的最大值 ||
| -p | 設定特定的 port (5201 by default) | -p 9999 |
| -B {IP address} | 綁定特定 IP 位址 | -B 192.168.1.98 |
| -4 | 使用 IPv4 ||
| -6 | 使用 IPv6 ||

### Server
| option | description | Sample |
| :--- | :--- | :--- |
| -D | 背景運作 ||
| -U | 使用 UDP & 單一執行緒 ||

### Client
| option | description | Sample |
| :--- | :--- | :--- |
| -b {number} | 測試 UDP 的頻寬, 設定每秒傳送的速度, 必須在UDP模式 | -b 1G |
| --bidir | 可雙向傳輸 (上傳跟下載) ||
| -n {number} | 指定傳輸的大小 (bytes) ||
| -r | 單獨進行雙向傳輸測試 ||
| -t {number} | 設定測試時間的長度, 預設 10 秒 | -t 120 |
| -F {file name} | 使用指定檔案做傳輸 ||
| -I | 使用 stdin 做傳輸內容 ||
| -T {number} | 設定 ttl 的值 ||
| -R | 反向模式, 由 Server 傳送, Client 接收. ||
| -J | 使用 json 格式輸出結果 ||
| -O {number} | 忽略測試前 N 秒 | -O 15 |
| --get-server-output | 從 Server 獲取測試結果 ||


# Comparison
LLDP (Link Layer Discovery Protocol)
SSDP (Simple Service Discovery Protocol)
NDP (Neighbor Discovery Protocol)
| Feature/Aspect | LLDP | SSDP | NDP |
| :--- | :--- | :--- | :--- |
| **Layer** | Data Link Layer (Layer 2) | Application Layer (Layer 7) | Network Layer (Layer 3) |
| **Purpose** | Device discovery and network topology information at Layer 2 | Service discovery for applications on a local network | Discovering other devices on the same network and determining their link-layer addresses |
| **Protocol Type** | IEEE 802.1 standard | UPnP | IPv6 |
| **Communication Method** | Unicast and multicast | Multicast (UDP) | Multicast (ICMPv6) |
| **Use Cases** | Network management, topology mapping, and device identification | Smart home devices, media streaming, IoT applications | IPv6 address resolution, router discovery, and network configuration |
| **Message Types** | LLDPDU (LLDP Data Units) | M-SEARCH, NOTIFY, BYE-BYE | Neighbor Solicitation, Neighbor Advertisement, Router Solicitation, Router Advertisement |
| **Security Features** | Limited; relies on network security measures | Limited; requires additional security measures | Basic security features; relies on IPv6 security mechanisms |





# 